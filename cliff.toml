# Configuration for git-cliff (automatic changelog)

[git]
# Collects the commits from the repository
conventional_commits = true
filter_unconventional = true
tag_pattern = "v[0-9]*"
ignore_tags = ["v0.0.0"]
commit_parsers = [
    { message = "^feat", group = "âœ¨ Features" },
    { message = "^fix", group = "ğŸ› Bug Fixes" },
    { message = "^docs", group = "ğŸ“ Documentation" },
    { message = "^style", group = "ğŸ’„ Style" },
    { message = "^refactor", group = "ğŸ§¹ Refactors" },
    { message = "^perf", group = "âš¡ Performance" },
    { message = "^test", group = "âœ… Tests" },
    { message = "^build", group = "ğŸ“¦ Build System" },
    { message = "^ci", group = "ğŸ”§ CI/CD" },
    { message = "^chore", group = "ğŸ”¨ Miscellaneous" },
    { message = "^revert", group = "âª Reverts" },
]

# If a commission is not matching anything, it is put here
unmatched_group = "ğŸ” Other"

[git.commit_preprocessors]
# Removes the prefix from messages like "feat: ..." â†’ "..."
"^feat: " = ""
"^fix: " = ""
"^docs: " = ""
"^style: " = ""
"^refactor: " = ""
"^perf: " = ""
"^test: " = ""
"^build: " = ""
"^ci: " = ""
"^chore: " = ""
"^revert: " = ""

[changelog]
# Title changelog
header = """
# ğŸ“¦ Changelog
"""

# Footer for every release
footer = """
---
_Generated automatically by CI/CD pipeline with [git-cliff](https://github.com/orhun/git-cliff)._
"""

# Group viewing order
sort_commits = "group"

# Template for a single release
body = """
## ğŸš€ Version {{ version }} ({{ timestamp | date("yyyy-MM-dd") }})

{% if groups %}
{% for group, commits in groups %}
### {{ group }}
{% for commit in commits %}
- {{ commit.message }} ({{ commit.id | truncate(7) }})
{% endfor %}
{% endfor %}
{% else %}
- No notable changes
{% endif %}
"""

# Template for Unreleased (before the first tag)
unreleased = """
## ğŸ§ª Unreleased
{% if groups %}
{% for group, commits in groups %}
### {{ group }}
{% for commit in commits %}
- {{ commit.message }} ({{ commit.id | truncate(7) }})
{% endfor %}
{% endfor %}
{% else %}
- No notable changes
{% endif %}
"""
